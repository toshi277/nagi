<div class="container mt-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h2>Reviews (Posts)</h2>
  </div>

  <table class="table table-hover">
    <thead class="thead-light">
      <tr>
        <th>投稿者</th>
        <th>タイトル</th>
        <th>本文</th>
        <th>投稿日</th>
        <th class="text-right">操作</th>
      </tr>
    </thead>

    <tbody>
      <% @posts.each do |post| %>
        <tr>
          <td>
            <%= post.user&.name.presence || post.user&.email || "退会ユーザー" %>
          </td>

          <td><%= post.title %></td>

          <td><%= truncate(post.body, length: 50) %></td>

          <td><%= post.created_at.strftime("%Y/%m/%d") %></td>

          <td class="text-right">
            <%= link_to "削除",
                        admin_post_path(post),
                        method: :delete,
                        data: { confirm: "このレビューを削除しますか？" },
                        class: "btn btn-sm btn-outline-danger" %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>

